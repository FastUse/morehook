import{_ as S}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.f12320d9.js";import{_ as q}from"./chunks/CButton.026b00a8.js";import{r as b,z as v,d as V,o as u,c as d,f as r,B as w,u as i,F as L,q as P,b as m,w as B,e as f,t as U,a as H}from"./app.896bc32d.js";function N(o,C){let p=0,c=10;const A=b(o.slice(p,c)),{itemHeight:a,overscan:h=5}=C,y=b(),F=s=>typeof a=="number"?s*a:o.slice(0,s).reduce((t,n,D)=>t+a(D),0);let e=F(p);const _=F(o.length),k=s=>{if(typeof a=="number")return Math.ceil(s/a);let l=0,t=0;for(let n=p;n<o.length;n++){const D=a(n);if(t+=D,t>=s){l=n;break}}return l-p},x=s=>{let l=0;if(typeof a=="number")l=Math.floor(s/a)+1;else{let t=0;for(let n=0;n<o.length;n++){const D=a(n);if(t+=D,t>=s){l=n;break}}l+=1}return l},E=()=>{const s=y.value;if(s){const l=x(s.scrollTop),t=k(s.clientHeight),n=l-h,D=l+t+h;p=n<0?0:n,c=D>o.length?o.length:D,A.value=o.slice(p,c),e=F(p),g.marginTop=e+"px",g.height=_-e+"px"}},T=v({ref:s=>{y.value=s},onScroll:s=>{s.preventDefault(),E()},style:{overflowY:"auto"}}),g=v({width:"100%",height:_-e+"px",marginTop:e+"px"});return{list:A,wrapperStyle:g,containerProps:T,scrollTo:s=>{y.value&&(y.value.scrollTop=F(s),E())}}}const O=V({__name:"demo",setup(o){const{list:C,wrapperStyle:p,containerProps:c,scrollTo:A}=N(Array.from(Array(99999).keys()),{itemHeight:60,overscan:10}),a=()=>{A(22)};return(h,y)=>{const F=q;return u(),d("div",null,[r("div",{ref:i(c).ref,onScroll:y[0]||(y[0]=(...e)=>i(c).onScroll&&i(c).onScroll(...e)),style:{height:"300px",overflow:"auto",border:"1px solid #cccccc"}},[r("div",{style:w(i(p))},[(u(!0),d(L,null,P(i(C),e=>(u(),d("div",{key:e,style:{height:"60px","border-bottom":"1px solid #cccccc","background-color":"white"}},U(e),1))),128))],4)],544),m(F,{type:"button",onClick:a},{default:B(()=>[f(" scroll to ")]),_:1})])}}}),R=r("h1",{id:"usevirtuallist",tabindex:"-1"},[f("useVirtualList "),r("a",{class:"header-anchor",href:"#usevirtuallist","aria-hidden":"true"},"#")],-1),z=r("p",null,"\u7BA1\u7406\u865A\u62DF\u5217\u8868",-1),I=r("h2",{id:"demo",tabindex:"-1"},[f("Demo "),r("a",{class:"header-anchor",href:"#demo","aria-hidden":"true"},"#")],-1),M=r("p",{class:"demo-source-link"},[r("a",{href:"https://github.com/FastUse/morehook/blob/main/packages/core/useVirtualList/demo.vue",target:"_blank"},"source")],-1),Y=H("",6),Q=JSON.parse('{"title":"useVirtualList","description":"","frontmatter":{"category":"Component"},"headers":[{"level":2,"title":"Demo","slug":"demo","link":"#demo","children":[]},{"level":2,"title":"Usage","slug":"usage","link":"#usage","children":[]},{"level":2,"title":"Type Declarations","slug":"type-declarations","link":"#type-declarations","children":[]},{"level":2,"title":"Source","slug":"source","link":"#source","children":[]}],"relativePath":"core/useVirtualList/index.md","lastUpdated":1667910526000}'),$={name:"core/useVirtualList/index.md"},W=Object.assign($,{setup(o){return(C,p)=>{const c=S;return u(),d("div",null,[R,z,I,m(c,null,{default:B(()=>[M,m(O)]),_:1}),Y])}}});export{Q as __pageData,W as default};
